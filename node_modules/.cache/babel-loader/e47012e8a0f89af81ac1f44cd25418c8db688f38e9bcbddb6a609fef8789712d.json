{"ast":null,"code":"import{createSlice,createAction,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';const httpClient=axios.create({timeout:2*60*1000});export const createUser=createAsyncThunk(\"createUser\",async(data,_ref)=>{let{rejectWithValue}=_ref;try{const response=await axios.post(\"https://65d481c63f1ab8c6343550a5.mockapi.io/crm\",data,{headers:{\"Content-Type\":\"application/json\"},method:\"post\"});return response.data;}catch(error){return rejectWithValue(error);}});export const fetchUsers=createAsyncThunk('fetchUsers',async(_,_ref2)=>{let{rejectWithValue}=_ref2;try{const response=await axios.get('https://65d481c63f1ab8c6343550a5.mockapi.io/crm');return response.data;}catch(error){return rejectWithValue(error);}});export const deleteUser=createAsyncThunk('deleteUser',async(id,_ref3)=>{let{rejectWithValue}=_ref3;try{const response=await axios.delete(`https://65d481c63f1ab8c6343550a5.mockapi.io/crm/${id}`,{data:{}});return response.data;}catch(error){return rejectWithValue(error.message);}});export const updateUser=createAsyncThunk(\"updateUser\",async(data,_ref4)=>{let{rejectWithValue}=_ref4;const response=await axios.put(`https://65d481c63f1ab8c6343550a5.mockapi.io/crm/${data.id}`,JSON.stringify(data),{method:\"put\",headers:{\"Content-Type\":\"application/json\"}});try{const result=await response.data;return result;}catch(error){return rejectWithValue(error);}});export const loginUser=createAsyncThunk('api/login',async(data,_ref5)=>{let{rejectWithValue}=_ref5;try{const response=await axios.post('https://65d481c63f1ab8c6343550a5.mockapi.io/crm',JSON.stringify(data),{headers:{'Content-Type':'application/json'},method:'POST'});return response.data;}catch(error){return rejectWithValue(error.response.data);}});const userDetail=createSlice({name:'userDetail',initialState:{userDetail:[],loading:false,error:null,search:[]},reducers:{searchUser:(state,action)=>{state.search=action.payload;console.log(action.payload);}},extraReducers:builder=>{builder.addCase(createUser.pending,(state,action)=>{state.loading=true;}).addCase(createUser.fulfilled,(state,action)=>{state.loading=false;state.userDetail.push(action.payload);}).addCase(createUser.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(deleteUser.pending,(state,action)=>{state.loading=true;}).addCase(deleteUser.fulfilled,(state,action)=>{state.loading=false;state.userDetail=state.userDetail.filter(x=>x.id!==action.payload.id);}).addCase(deleteUser.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(fetchUsers.pending,(state,action)=>{state.loading=true;}).addCase(fetchUsers.fulfilled,(state,action)=>{state.loading=false;state.userDetail=action.payload;}).addCase(fetchUsers.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(updateUser.pending,(state,action)=>{state.loading=true;}).addCase(updateUser.fulfilled,(state,action)=>{state.loading=false;//state.userDetail = [action.payload];\nstate.userDetail=state.userDetail.map(item=>{return item.id===action.payload.id?action.payload:item;});}).addCase(updateUser.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(loginUser.pending,(state,action)=>{state.loading=true;}).addCase(loginUser.fulfilled,(state,action)=>{state.loading=false;state.userDetail=action.payload;}).addCase(loginUser.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});}});console.log(userDetail.actions);export default userDetail.reducer;export const{searchUser}=userDetail.actions;","map":{"version":3,"names":["createSlice","createAction","createAsyncThunk","axios","httpClient","create","timeout","createUser","data","_ref","rejectWithValue","response","post","headers","method","error","fetchUsers","_","_ref2","get","deleteUser","id","_ref3","delete","message","updateUser","_ref4","put","JSON","stringify","result","loginUser","_ref5","userDetail","name","initialState","loading","search","reducers","searchUser","state","action","payload","console","log","extraReducers","builder","addCase","pending","fulfilled","push","rejected","filter","x","map","item","actions","reducer"],"sources":["D:/NGS/NGS/src/redux/reducer/userDetail.jsx"],"sourcesContent":["import { createSlice, createAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst httpClient = axios.create({ timeout: 2 * 60 * 1000 });\n\nexport const createUser = createAsyncThunk(\"createUser\", async (data, { rejectWithValue }) => {\n    try {\n        const response = await axios.post(\"https://65d481c63f1ab8c6343550a5.mockapi.io/crm\", data, {\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            method: \"post\",\n        });\n        return response.data;\n    } catch (error) {\n        return rejectWithValue(error);\n    }\n});\n\nexport const fetchUsers = createAsyncThunk('fetchUsers', async (_, { rejectWithValue }) => {\n    try {\n        const response = await axios.get('https://65d481c63f1ab8c6343550a5.mockapi.io/crm');\n        return response.data;\n    } catch (error) {\n        return rejectWithValue(error);\n    }\n});\n\nexport const deleteUser = createAsyncThunk('deleteUser', async (id, { rejectWithValue }) => {\n    try {\n        const response = await axios.delete(`https://65d481c63f1ab8c6343550a5.mockapi.io/crm/${id}`, {\n            data: {},\n        });\n        return response.data;\n    } catch (error) {\n        return rejectWithValue(error.message);\n    }\n});\n\nexport const updateUser = createAsyncThunk(\"updateUser\", async (data, { rejectWithValue }) => {\n    const response = await axios.put(`https://65d481c63f1ab8c6343550a5.mockapi.io/crm/${data.id}`, JSON.stringify(data), {\n        method: \"put\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n    });\n    try {\n        const result = await response.data;\n        return result;\n    } catch (error) {\n        return rejectWithValue(error);\n    }\n});\n\nexport const loginUser = createAsyncThunk('api/login', async (data, { rejectWithValue }) => {\n    try {\n        const response = await axios.post(\n            'https://65d481c63f1ab8c6343550a5.mockapi.io/crm', JSON.stringify(data),\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                method: 'POST',\n            }\n        );\n        return response.data;\n    } catch (error) {\n        return rejectWithValue(error.response.data);\n    }\n});\n\n\n\nconst userDetail = createSlice({\n    name: 'userDetail',\n    initialState: {\n        userDetail: [],\n        loading: false,\n        error: null,\n        search: []\n    },\n\n    reducers: {\n        searchUser: (state, action) => {\n            state.search = action.payload;\n            console.log(action.payload)\n        },\n    },\n\n    extraReducers: (builder) => {\n        builder\n\n            .addCase(createUser.pending, (state, action) => {\n                state.loading = true;\n            })\n            .addCase(createUser.fulfilled, (state, action) => {\n                state.loading = false;\n                state.userDetail.push(action.payload);\n            })\n            .addCase(createUser.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n\n            .addCase(deleteUser.pending, (state, action) => {\n                state.loading = true;\n            })\n            .addCase(deleteUser.fulfilled, (state, action) => {\n                state.loading = false;\n                state.userDetail = state.userDetail.filter((x) => x.id !== action.payload.id);\n            })\n            .addCase(deleteUser.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n\n            .addCase(fetchUsers.pending, (state, action) => {\n                state.loading = true;\n            })\n            .addCase(fetchUsers.fulfilled, (state, action) => {\n                state.loading = false;\n                state.userDetail = action.payload;\n            })\n            .addCase(fetchUsers.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n\n            .addCase(updateUser.pending, (state, action) => {\n                state.loading = true;\n            })\n            .addCase(updateUser.fulfilled, (state, action) => {\n                state.loading = false;\n                //state.userDetail = [action.payload];\n                state.userDetail = state.userDetail.map((item) => {\n                    return item.id === action.payload.id ? action.payload : item;\n                });\n            })\n            .addCase(updateUser.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n\n\n            .addCase(loginUser.pending, (state, action) => {\n                state.loading = true;\n            })\n            .addCase(loginUser.fulfilled, (state, action) => {\n                state.loading = false;\n                state.userDetail = action.payload\n            })\n            .addCase(loginUser.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n\n    }\n});\n\nconsole.log(userDetail.actions);\nexport default userDetail.reducer;\nexport const { searchUser } = userDetail.actions;\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}